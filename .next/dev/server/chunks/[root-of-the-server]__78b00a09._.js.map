{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/Documents/dashboard-monorepo/frontend/pages/api/auth/signup.ts"],"sourcesContent":["// pages/api/auth/signup.ts\r\nimport type { NextApiRequest, NextApiResponse } from \"next\";\r\nimport bcrypt from \"bcryptjs\";\r\nimport { connectDB } from \"@/lib/db\";\r\nimport User from \"@/models/User\";\r\n\r\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\r\n  if (req.method !== \"POST\") return res.status(405).json({ message: \"Method not allowed\" });\r\n\r\n  const { name, email, password } = req.body;\r\n\r\n  if (!name || !email || !password) return res.status(400).json({ message: \"Missing fields\" });\r\n\r\n  await connectDB();\r\n\r\n  // Check if user already exists\r\n  const existingUser = await User.findOne({ email });\r\n  if (existingUser) return res.status(400).json({ message: \"User already exists\" });\r\n\r\n  // Hash the password\r\n  const hashedPassword = await bcrypt.hash(password, 10);\r\n\r\n  const newUser = new User({\r\n    name,\r\n    email,\r\n    password: hashedPassword,\r\n  });\r\n\r\n  await newUser.save(); // <-- persist to MongoDB\r\n\r\n  res.status(201).json({ message: \"User created successfully\" });\r\n}\r\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;AAE3B;;;;;;;;;;;;;;;;;;AAIe,eAAe,QAAQ,GAAmB,EAAE,GAAoB;IAC7E,IAAI,IAAI,MAAM,KAAK,QAAQ,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;QAAE,SAAS;IAAqB;IAEvF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,IAAI,IAAI;IAE1C,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;QAAE,SAAS;IAAiB;IAE1F,MAAM;IAEN,+BAA+B;IAC/B,MAAM,eAAe,MAAM,KAAK,OAAO,CAAC;QAAE;IAAM;IAChD,IAAI,cAAc,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;QAAE,SAAS;IAAsB;IAE/E,oBAAoB;IACpB,MAAM,iBAAiB,MAAM,+NAAM,CAAC,IAAI,CAAC,UAAU;IAEnD,MAAM,UAAU,IAAI,KAAK;QACvB;QACA;QACA,UAAU;IACZ;IAEA,MAAM,QAAQ,IAAI,IAAI,yBAAyB;IAE/C,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;QAAE,SAAS;IAA4B;AAC9D"}}]
}