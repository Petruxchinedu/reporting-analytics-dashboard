{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/Documents/dashboard-monorepo/frontend/lib/api/charts.ts"],"sourcesContent":["export interface ChartApiResponse {\r\n  metric: string;\r\n  range: string;\r\n  labels: string[];\r\n  data: number[];\r\n}\r\n\r\nexport async function fetchChartOverview(\r\n  metric: string,\r\n  range: string,\r\n  region: string\r\n): Promise<ChartApiResponse> {\r\n  const res = await fetch(\r\n    `/api/charts/overview?metric=${metric}&range=${range}&region=${region}`\r\n  );\r\n\r\n  if (!res.ok) {\r\n    throw new Error(\"Failed to fetch chart data\");\r\n  }\r\n\r\n  return res.json();\r\n}\r\n"],"names":[],"mappings":";;;;AAOO,eAAe,mBACpB,MAAc,EACd,KAAa,EACb,MAAc;IAEd,MAAM,MAAM,MAAM,MAChB,CAAC,4BAA4B,EAAE,OAAO,OAAO,EAAE,MAAM,QAAQ,EAAE,QAAQ;IAGzE,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO,IAAI,IAAI;AACjB"}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/Documents/dashboard-monorepo/frontend/components/Charts/LineChart.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Tooltip,\r\n  Legend,\r\n  Filler, // Added for beautiful area gradients\r\n  ScriptableContext\r\n} from \"chart.js\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { Box, useToken } from \"@chakra-ui/react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport type { RootState } from \"@/store\";\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Tooltip,\r\n  Legend,\r\n  Filler\r\n);\r\n\r\nexport default function LineChart() {\r\n  const { metric } = useSelector((state: RootState) => state.filters);\r\n  // Pull teal.500 from your Chakra theme tokens\r\n  const [brandColor] = useToken(\"colors\", [\"teal.500\"]);\r\n\r\n  const data = {\r\n    labels: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\r\n    datasets: [\r\n      {\r\n        fill: true, // Enables the gradient area\r\n        label: metric.toUpperCase(),\r\n        // Note: In a real app, generateMockData should be memoized or inside useEffect\r\n        data: [400, 450, 420, 500, 600, 550, 700, 800, 750, 900, 850, 1000],\r\n        borderColor: brandColor,\r\n        // Creating a beautiful fade-out gradient\r\n        backgroundColor: (context: ScriptableContext<\"line\">) => {\r\n          const ctx = context.chart.ctx;\r\n          const gradient = ctx.createLinearGradient(0, 0, 0, 300);\r\n          gradient.addColorStop(0, \"rgba(49, 151, 149, 0.4)\");\r\n          gradient.addColorStop(1, \"rgba(49, 151, 149, 0)\");\r\n          return gradient;\r\n        },\r\n        tension: 0.4,\r\n        pointRadius: 0, // Hides points until hover for a cleaner look\r\n        pointHoverRadius: 6,\r\n        borderWidth: 3,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const options = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n      legend: { display: false }, // Cleaner UI: Use Chakra text for titles instead\r\n      tooltip: {\r\n        backgroundColor: \"#1A202C\", // Matches gray.800\r\n        padding: 12,\r\n        cornerRadius: 8,\r\n        titleFont: { size: 14, weight: 'bold' as const },\r\n        bodyFont: { size: 14 },\r\n      },\r\n    },\r\n    scales: {\r\n      x: {\r\n        grid: { display: false }, // Remove vertical lines for modern \"airy\" look\r\n        ticks: { color: \"#718096\" } // gray.500\r\n      },\r\n      y: {\r\n        border: { dash: [4, 4] }, // Dashed horizontal lines\r\n        grid: { color: \"rgba(0,0,0,0.05)\" },\r\n        ticks: { color: \"#718096\" }\r\n      },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <Box \r\n      h=\"350px\" \r\n      w=\"full\" \r\n      p={4} \r\n      bg=\"white\" \r\n      _dark={{ bg: \"gray.900\" }} \r\n      borderRadius=\"xl\"\r\n      boxShadow=\"sm\"\r\n    >\r\n      <Line data={data} options={options} />\r\n    </Box>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AACA;AAWA;AACA;AACA;;;;;;;;;;;;;AAGA,yOAAO,CAAC,QAAQ,CACd,iPAAa,EACb,+OAAW,EACX,gPAAY,EACZ,+OAAW,EACX,2OAAO,EACP,0OAAM,EACN,0OAAM;AAGO,SAAS;IACtB,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,4SAAW,EAAC,CAAC,QAAqB,MAAM,OAAO;IAClE,8CAA8C;IAC9C,MAAM,CAAC,WAAW,GAAG,IAAA,qUAAQ,EAAC,UAAU;QAAC;KAAW;IAEpD,MAAM,OAAO;QACX,QAAQ;YAAC;YAAO;YAAO;YAAO;YAAO;YAAO;YAAO;YAAO;YAAO;YAAO;YAAO;YAAO;SAAM;QAC5F,UAAU;YACR;gBACE,MAAM;gBACN,OAAO,OAAO,WAAW;gBACzB,+EAA+E;gBAC/E,MAAM;oBAAC;oBAAK;oBAAK;oBAAK;oBAAK;oBAAK;oBAAK;oBAAK;oBAAK;oBAAK;oBAAK;oBAAK;iBAAK;gBACnE,aAAa;gBACb,yCAAyC;gBACzC,iBAAiB,CAAC;oBAChB,MAAM,MAAM,QAAQ,KAAK,CAAC,GAAG;oBAC7B,MAAM,WAAW,IAAI,oBAAoB,CAAC,GAAG,GAAG,GAAG;oBACnD,SAAS,YAAY,CAAC,GAAG;oBACzB,SAAS,YAAY,CAAC,GAAG;oBACzB,OAAO;gBACT;gBACA,SAAS;gBACT,aAAa;gBACb,kBAAkB;gBAClB,aAAa;YACf;SACD;IACH;IAEA,MAAM,UAAU;QACd,YAAY;QACZ,qBAAqB;QACrB,SAAS;YACP,QAAQ;gBAAE,SAAS;YAAM;YACzB,SAAS;gBACP,iBAAiB;gBACjB,SAAS;gBACT,cAAc;gBACd,WAAW;oBAAE,MAAM;oBAAI,QAAQ;gBAAgB;gBAC/C,UAAU;oBAAE,MAAM;gBAAG;YACvB;QACF;QACA,QAAQ;YACN,GAAG;gBACD,MAAM;oBAAE,SAAS;gBAAM;gBACvB,OAAO;oBAAE,OAAO;gBAAU,EAAE,WAAW;YACzC;YACA,GAAG;gBACD,QAAQ;oBAAE,MAAM;wBAAC;wBAAG;qBAAE;gBAAC;gBACvB,MAAM;oBAAE,OAAO;gBAAmB;gBAClC,OAAO;oBAAE,OAAO;gBAAU;YAC5B;QACF;IACF;IAEA,qBACE,qKAAC,gUAAG;QACF,GAAE;QACF,GAAE;QACF,GAAG;QACH,IAAG;QACH,OAAO;YAAE,IAAI;QAAW;QACxB,cAAa;QACb,WAAU;kBAEV,cAAA,qKAAC,iUAAI;YAAC,MAAM;YAAM,SAAS;;;;;;;;;;;AAGjC"}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/Documents/dashboard-monorepo/frontend/pages/index.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useSession } from \"next-auth/react\";\r\nimport { useEffect } from \"react\";\r\nimport { Box, Heading, Text, Spinner } from \"@chakra-ui/react\";\r\nimport DashboardLayout from \"\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { fetchChartOverview } from \"../lib/api/charts\";\r\nimport { useSelector } from \"react-redux\";\r\nimport type { RootState } from \"../store\";\r\nimport LineChart from \"../components/Charts/LineChart\";\r\n\r\nexport default function DashboardPage() {\r\n  const { data: session, status } = useSession();\r\n  const router = useRouter();\r\n\r\n  // Enforce login every time\r\n  useEffect(() => {\r\n    if (status === \"unauthenticated\") {\r\n      router.push(\"/login\"); // Always redirect to login if not authenticated\r\n    }\r\n  }, [status, router]);\r\n\r\n  // Global filters from Redux\r\n  const { metric, region, dateRange } = useSelector(\r\n    (state: RootState) => state.filters\r\n  );\r\n\r\n  // Fetch chart data\r\n  const { data, isLoading, error } = useQuery({\r\n    queryKey: [\"chart-overview\", metric, region, dateRange],\r\n    queryFn: () => fetchChartOverview(metric, \"monthly\", region),\r\n    keepPreviousData: true,\r\n    staleTime: 1000 * 60,\r\n  });\r\n\r\n  if (status === \"loading\") return <Text p={6}>Checking session...</Text>;\r\n\r\n  if (status === \"unauthenticated\") return null; // Ensure nothing renders if not logged in\r\n\r\n  return (\r\n    <DashboardLayout>\r\n      <Box>\r\n        <Heading size=\"lg\" mb={2}>\r\n          Welcome, {session?.user?.name || session?.user?.email}\r\n        </Heading>\r\n        <Text color=\"gray.600\" _dark={{ color: \"gray.400\" }} mb={6}>\r\n          This is your dashboard. Charts and analytics will appear here.\r\n        </Text>\r\n\r\n        {isLoading ? (\r\n          <Spinner />\r\n        ) : error ? (\r\n          <Text color=\"red.500\">Failed to load chart data</Text>\r\n        ) : (\r\n          <LineChart\r\n            labels={data.labels}\r\n            data={data.data}\r\n            title={data.metric.toUpperCase()}\r\n          />\r\n        )}\r\n      </Box>\r\n    </DashboardLayout>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;;;;AAEA;AACA;AACA;AAEA;;;;;;;;AAXA;;;;;;;;;;;AAae,SAAS;IACtB,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,gTAAU;IAC5C,MAAM,SAAS,IAAA,uQAAS;IAExB,2BAA2B;IAC3B,IAAA,gHAAS,EAAC;QACR,IAAI,WAAW,mBAAmB;YAChC,OAAO,IAAI,CAAC,WAAW,gDAAgD;QACzE;IACF,GAAG;QAAC;QAAQ;KAAO;IAEnB,4BAA4B;IAC5B,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,4SAAW,EAC/C,CAAC,QAAqB,MAAM,OAAO;IAGrC,mBAAmB;IACnB,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,IAAA,wUAAQ,EAAC;QAC1C,UAAU;YAAC;YAAkB;YAAQ;YAAQ;SAAU;QACvD,SAAS,IAAM,IAAA,mIAAkB,EAAC,QAAQ,WAAW;QACrD,kBAAkB;QAClB,WAAW,OAAO;IACpB;IAEA,IAAI,WAAW,WAAW,qBAAO,qKAAC,iUAAI;QAAC,GAAG;kBAAG;;;;;;IAE7C,IAAI,WAAW,mBAAmB,OAAO,MAAM,0CAA0C;IAEzF,qBACE,qKAAC;kBACC,cAAA,qKAAC,gUAAG;;8BACF,qKAAC,oUAAO;oBAAC,MAAK;oBAAK,IAAI;;wBAAG;wBACd,SAAS,MAAM,QAAQ,SAAS,MAAM;;;;;;;8BAElD,qKAAC,iUAAI;oBAAC,OAAM;oBAAW,OAAO;wBAAE,OAAO;oBAAW;oBAAG,IAAI;8BAAG;;;;;;gBAI3D,0BACC,qKAAC,oUAAO;;;;2BACN,sBACF,qKAAC,iUAAI;oBAAC,OAAM;8BAAU;;;;;yCAEtB,qKAAC,sIAAS;oBACR,QAAQ,KAAK,MAAM;oBACnB,MAAM,KAAK,IAAI;oBACf,OAAO,KAAK,MAAM,CAAC,WAAW;;;;;;;;;;;;;;;;;AAM1C"}}]
}