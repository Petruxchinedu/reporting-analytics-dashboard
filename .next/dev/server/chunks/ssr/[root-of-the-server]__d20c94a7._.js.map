{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/Documents/dashboard-monorepo/frontend/components/layout/Sidebar.tsx"],"sourcesContent":["import { Box, Stack, Text, Icon,Flex, Link as ChakraLink } from \"@chakra-ui/react\";\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { \r\n  LuLayoutDashboard, \r\n  LuChartBar, \r\n  LuFileText, \r\n  LuSettings \r\n} from \"react-icons/lu\"; // Lucide icons look great with v3\r\n\r\nconst navItems = [\r\n  { label: \"Dashboard\", href: \"/\", icon: LuLayoutDashboard },\r\n  { label: \"Analytics\", href: \"/analytics\", icon: LuChartBar },\r\n  { label: \"Reports\", href: \"/reports\", icon: LuFileText },\r\n  { label: \"Settings\", href: \"/settings\", icon: LuSettings },\r\n];\r\n\r\nexport default function Sidebar() {\r\n  const pathname = usePathname();\r\n\r\n  return (\r\n    <Box\r\n      h=\"full\"\r\n      w=\"full\"\r\n      p={4}\r\n    >\r\n      {/* Brand / Logo Area */}\r\n      <Flex align=\"center\" gap={3} px={3} mb={10}>\r\n        <Box bg=\"teal.600\" p={1.5} borderRadius=\"lg\">\r\n          <Icon color=\"white\" fontSize=\"xl\" as={LuLayoutDashboard} />\r\n        </Box>\r\n        <Text fontSize=\"xl\" fontWeight=\"bold\" letterSpacing=\"tight\">\r\n          SaaS Admin\r\n        </Text>\r\n      </Flex>\r\n\r\n      {/* Navigation Links */}\r\n      <Stack gap={1}>\r\n        {navItems.map((item) => {\r\n          const isActive = pathname === item.href;\r\n          \r\n          return (\r\n            <ChakraLink\r\n              key={item.href}\r\n              asChild\r\n              textDecoration=\"none\"\r\n              _hover={{ textDecoration: \"none\" }}\r\n            >\r\n              <Link href={item.href}>\r\n                <Box\r\n                  display=\"flex\"\r\n                  alignItems=\"center\"\r\n                  gap={3}\r\n                  px={3}\r\n                  py={2.5}\r\n                  borderRadius=\"lg\"\r\n                  transition=\"all 0.2s\"\r\n                  fontWeight=\"medium\"\r\n                  fontSize=\"sm\"\r\n                  bg={isActive ? \"teal.50\" : \"transparent\"}\r\n                  color={isActive ? \"teal.700\" : \"gray.600\"}\r\n                  _dark={{\r\n                    bg: isActive ? \"teal.900/30\" : \"transparent\",\r\n                    color: isActive ? \"teal.200\" : \"gray.400\",\r\n                  }}\r\n                  _hover={{\r\n                    bg: isActive ? \"teal.50\" : \"gray.100\",\r\n                    color: isActive ? \"teal.700\" : \"gray.900\",\r\n                    _dark: {\r\n                      bg: isActive ? \"teal.900/30\" : \"gray.800\",\r\n                      color: isActive ? \"teal.200\" : \"gray.100\",\r\n                    }\r\n                  }}\r\n                >\r\n                  <Icon as={item.icon} fontSize=\"lg\" />\r\n                  {item.label}\r\n                </Box>\r\n              </Link>\r\n            </ChakraLink>\r\n          );\r\n        })}\r\n      </Stack>\r\n    </Box>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA,gXAKyB,kCAAkC;;;;;;;;;;AAE3D,MAAM,WAAW;IACf;QAAE,OAAO;QAAa,MAAM;QAAK,MAAM,6OAAiB;IAAC;IACzD;QAAE,OAAO;QAAa,MAAM;QAAc,MAAM,sOAAU;IAAC;IAC3D;QAAE,OAAO;QAAW,MAAM;QAAY,MAAM,sOAAU;IAAC;IACvD;QAAE,OAAO;QAAY,MAAM;QAAa,MAAM,sOAAU;IAAC;CAC1D;AAEc,SAAS;IACtB,MAAM,WAAW,IAAA,yQAAW;IAE5B,qBACE,qKAAC,gUAAG;QACF,GAAE;QACF,GAAE;QACF,GAAG;;0BAGH,qKAAC,iUAAI;gBAAC,OAAM;gBAAS,KAAK;gBAAG,IAAI;gBAAG,IAAI;;kCACtC,qKAAC,gUAAG;wBAAC,IAAG;wBAAW,GAAG;wBAAK,cAAa;kCACtC,cAAA,qKAAC,iUAAI;4BAAC,OAAM;4BAAQ,UAAS;4BAAK,IAAI,6OAAiB;;;;;;;;;;;kCAEzD,qKAAC,iUAAI;wBAAC,UAAS;wBAAK,YAAW;wBAAO,eAAc;kCAAQ;;;;;;;;;;;;0BAM9D,qKAAC,kUAAK;gBAAC,KAAK;0BACT,SAAS,GAAG,CAAC,CAAC;oBACb,MAAM,WAAW,aAAa,KAAK,IAAI;oBAEvC,qBACE,qKAAC,iUAAU;wBAET,OAAO;wBACP,gBAAe;wBACf,QAAQ;4BAAE,gBAAgB;wBAAO;kCAEjC,cAAA,qKAAC,+PAAI;4BAAC,MAAM,KAAK,IAAI;sCACnB,cAAA,qKAAC,gUAAG;gCACF,SAAQ;gCACR,YAAW;gCACX,KAAK;gCACL,IAAI;gCACJ,IAAI;gCACJ,cAAa;gCACb,YAAW;gCACX,YAAW;gCACX,UAAS;gCACT,IAAI,WAAW,YAAY;gCAC3B,OAAO,WAAW,aAAa;gCAC/B,OAAO;oCACL,IAAI,WAAW,gBAAgB;oCAC/B,OAAO,WAAW,aAAa;gCACjC;gCACA,QAAQ;oCACN,IAAI,WAAW,YAAY;oCAC3B,OAAO,WAAW,aAAa;oCAC/B,OAAO;wCACL,IAAI,WAAW,gBAAgB;wCAC/B,OAAO,WAAW,aAAa;oCACjC;gCACF;;kDAEA,qKAAC,iUAAI;wCAAC,IAAI,KAAK,IAAI;wCAAE,UAAS;;;;;;oCAC7B,KAAK,KAAK;;;;;;;;;;;;uBAhCV,KAAK,IAAI;;;;;gBAqCpB;;;;;;;;;;;;AAIR"}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/Documents/dashboard-monorepo/frontend/components/layout/Topbar.tsx"],"sourcesContent":["import { \r\n  Box, \r\n  Flex, \r\n  Heading, \r\n  Input, \r\n  IconButton, \r\n  HStack, \r\n  Text,\r\n  InputGroup, // If you have the snippet, otherwise use Box + Position\r\n} from \"@chakra-ui/react\";\r\nimport { \r\n  LuSearch, \r\n  LuBell, \r\n  LuMoon, \r\n  LuSun, \r\n  LuCircleUser\r\n} from \"react-icons/lu\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function Topbar() {\r\n  const [isDark, setIsDark] = useState(false);\r\n\r\n  return (\r\n    <Flex\r\n      h=\"70px\"\r\n      align=\"center\"\r\n      justify=\"space-between\"\r\n      px={6}\r\n      bg=\"white/80\"\r\n      _dark={{ bg: \"gray.900/80\" }}\r\n      backdropFilter=\"blur(10px)\"\r\n      position=\"sticky\"\r\n      top=\"0\"\r\n      zIndex=\"10\"\r\n    >\r\n      {/* Left Side: Page Title or Mobile Menu Trigger */}\r\n      <HStack gap={4}>\r\n        <Heading size=\"md\" fontWeight=\"semibold\" color=\"gray.700\" _dark={{ color: \"white\" }}>\r\n          Overview\r\n        </Heading>\r\n      </HStack>\r\n\r\n      {/* Center: Search Bar (Hidden on small mobile) */}\r\n      <Box display={{ base: \"none\", md: \"block\" }} maxW=\"400px\" w=\"full\" mx={8}>\r\n        <Box position=\"relative\">\r\n          <Box\r\n            position=\"absolute\"\r\n            left=\"3\"\r\n            top=\"50%\"\r\n            transform=\"translateY(-50%)\"\r\n            zIndex=\"1\"\r\n            color=\"gray.400\"\r\n          >\r\n            <LuSearch size={18} />\r\n          </Box>\r\n          <Input\r\n            placeholder=\"Search everything...\"\r\n            pl=\"10\"\r\n            bg=\"gray.100\"\r\n            border=\"none\"\r\n            _focus={{ bg: \"white\", ring: \"2px\", ringColor: \"teal.500\" }}\r\n            _dark={{ bg: \"gray.800\", _focus: { bg: \"gray.700\" } }}\r\n            borderRadius=\"full\"\r\n          />\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* Right Side: Actions & Profile */}\r\n      <HStack gap={3}>\r\n        {/* Notifications */}\r\n        <IconButton\r\n          variant=\"ghost\"\r\n          aria-label=\"Notifications\"\r\n          borderRadius=\"full\"\r\n          color=\"gray.600\"\r\n          _dark={{ color: \"gray.400\" }}\r\n        >\r\n          <LuBell size={20} />\r\n        </IconButton>\r\n\r\n        {/* Theme Toggle */}\r\n        <IconButton\r\n          variant=\"ghost\"\r\n          aria-label=\"Toggle Theme\"\r\n          borderRadius=\"full\"\r\n          onClick={() => setIsDark(!isDark)}\r\n        >\r\n          {isDark ? <LuSun size={20} /> : <LuMoon size={20} />}\r\n        </IconButton>\r\n\r\n        {/* User Profile */}\r\n        <HStack \r\n          gap={3} \r\n          pl={2} \r\n          cursor=\"pointer\" \r\n          _hover={{ opacity: 0.8 }}\r\n        >\r\n          <Box textAlign=\"right\" display={{ base: \"none\", sm: \"block\" }}>\r\n            <Text fontSize=\"sm\" fontWeight=\"bold\" lineHeight=\"1\">\r\n              Alex Rivera\r\n            </Text>\r\n            <Text fontSize=\"xs\" color=\"gray.500\">\r\n              Admin\r\n            </Text>\r\n          </Box>\r\n          <Box\r\n            w=\"40px\"\r\n            h=\"40px\"\r\n            bg=\"teal.500\"\r\n            borderRadius=\"full\"\r\n            display=\"flex\"\r\n            alignItems=\"center\"\r\n            justifyContent=\"center\"\r\n            color=\"white\"\r\n          >\r\n            <LuCircleUser size={24} />\r\n          </Box>\r\n        </HStack>\r\n      </HStack>\r\n    </Flex>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;AAUA;AAOA;;;;;;;;;AAEe,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC;IAErC,qBACE,qKAAC,iUAAI;QACH,GAAE;QACF,OAAM;QACN,SAAQ;QACR,IAAI;QACJ,IAAG;QACH,OAAO;YAAE,IAAI;QAAc;QAC3B,gBAAe;QACf,UAAS;QACT,KAAI;QACJ,QAAO;;0BAGP,qKAAC,mUAAM;gBAAC,KAAK;0BACX,cAAA,qKAAC,oUAAO;oBAAC,MAAK;oBAAK,YAAW;oBAAW,OAAM;oBAAW,OAAO;wBAAE,OAAO;oBAAQ;8BAAG;;;;;;;;;;;0BAMvF,qKAAC,gUAAG;gBAAC,SAAS;oBAAE,MAAM;oBAAQ,IAAI;gBAAQ;gBAAG,MAAK;gBAAQ,GAAE;gBAAO,IAAI;0BACrE,cAAA,qKAAC,gUAAG;oBAAC,UAAS;;sCACZ,qKAAC,gUAAG;4BACF,UAAS;4BACT,MAAK;4BACL,KAAI;4BACJ,WAAU;4BACV,QAAO;4BACP,OAAM;sCAEN,cAAA,qKAAC,oOAAQ;gCAAC,MAAM;;;;;;;;;;;sCAElB,qKAAC,kUAAK;4BACJ,aAAY;4BACZ,IAAG;4BACH,IAAG;4BACH,QAAO;4BACP,QAAQ;gCAAE,IAAI;gCAAS,MAAM;gCAAO,WAAW;4BAAW;4BAC1D,OAAO;gCAAE,IAAI;gCAAY,QAAQ;oCAAE,IAAI;gCAAW;4BAAE;4BACpD,cAAa;;;;;;;;;;;;;;;;;0BAMnB,qKAAC,mUAAM;gBAAC,KAAK;;kCAEX,qKAAC,uUAAU;wBACT,SAAQ;wBACR,cAAW;wBACX,cAAa;wBACb,OAAM;wBACN,OAAO;4BAAE,OAAO;wBAAW;kCAE3B,cAAA,qKAAC,kOAAM;4BAAC,MAAM;;;;;;;;;;;kCAIhB,qKAAC,uUAAU;wBACT,SAAQ;wBACR,cAAW;wBACX,cAAa;wBACb,SAAS,IAAM,UAAU,CAAC;kCAEzB,uBAAS,qKAAC,iOAAK;4BAAC,MAAM;;;;;iDAAS,qKAAC,kOAAM;4BAAC,MAAM;;;;;;;;;;;kCAIhD,qKAAC,mUAAM;wBACL,KAAK;wBACL,IAAI;wBACJ,QAAO;wBACP,QAAQ;4BAAE,SAAS;wBAAI;;0CAEvB,qKAAC,gUAAG;gCAAC,WAAU;gCAAQ,SAAS;oCAAE,MAAM;oCAAQ,IAAI;gCAAQ;;kDAC1D,qKAAC,iUAAI;wCAAC,UAAS;wCAAK,YAAW;wCAAO,YAAW;kDAAI;;;;;;kDAGrD,qKAAC,iUAAI;wCAAC,UAAS;wCAAK,OAAM;kDAAW;;;;;;;;;;;;0CAIvC,qKAAC,gUAAG;gCACF,GAAE;gCACF,GAAE;gCACF,IAAG;gCACH,cAAa;gCACb,SAAQ;gCACR,YAAW;gCACX,gBAAe;gCACf,OAAM;0CAEN,cAAA,qKAAC,wOAAY;oCAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMhC"}},
    {"offset": {"line": 441, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/Documents/dashboard-monorepo/frontend/components/layout/LogouButton.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Button, Icon, Text } from \"@chakra-ui/react\";\r\nimport { signOut } from \"next-auth/react\";\r\nimport { LuLogOut } from \"react-icons/lu\";\r\n\r\nexport function LogoutButton() {\r\n  return (\r\n    <Button\r\n      variant=\"ghost\"\r\n      colorPalette=\"red\"\r\n      width=\"full\"\r\n      justifyContent=\"flex-start\"\r\n      gap={3}\r\n      borderRadius=\"xl\"\r\n      size=\"lg\"\r\n      _hover={{ bg: \"red.50\", _dark: { bg: \"red.900/20\" } }}\r\n      onClick={() => signOut({ callbackUrl: \"/login\" })}\r\n    >\r\n      <LuLogOut />\r\n      <Text fontWeight=\"bold\">Sign Out</Text>\r\n    </Button>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;;;AAJA;;;;;AAMO,SAAS;IACd,qBACE,qKAAC,mUAAM;QACL,SAAQ;QACR,cAAa;QACb,OAAM;QACN,gBAAe;QACf,KAAK;QACL,cAAa;QACb,MAAK;QACL,QAAQ;YAAE,IAAI;YAAU,OAAO;gBAAE,IAAI;YAAa;QAAE;QACpD,SAAS,IAAM,IAAA,6SAAO,EAAC;gBAAE,aAAa;YAAS;;0BAE/C,qKAAC,oOAAQ;;;;;0BACT,qKAAC,iUAAI;gBAAC,YAAW;0BAAO;;;;;;;;;;;;AAG9B"}},
    {"offset": {"line": 504, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/Documents/dashboard-monorepo/frontend/components/layout/DashboardLayout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Box, Flex, Separator, Stack } from \"@chakra-ui/react\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport Topbar from \"./Topbar\";\r\nimport { LogoutButton } from \"./LogouButton\"; // We will create this below\r\n\r\ninterface DashboardLayoutProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport default function DashboardLayout({ children }: DashboardLayoutProps) {\r\n  return (\r\n    <Flex \r\n      minH=\"100vh\" \r\n      bg=\"gray.50\" \r\n      _dark={{ bg: \"gray.950\" }}\r\n    >\r\n      {/* Sidebar Area */}\r\n      <Box \r\n        display={{ base: \"none\", md: \"flex\" }} \r\n        flexDirection=\"column\"\r\n        w=\"280px\" \r\n        position=\"fixed\"\r\n        h=\"100vh\"\r\n        borderEndWidth=\"1px\"\r\n        bg=\"white\"\r\n        _dark={{ bg: \"gray.900\", borderEndColor: \"gray.800\" }}\r\n      >\r\n        <Flex direction=\"column\" h=\"full\" p={4}>\r\n          <Box flex=\"1\">\r\n            <Sidebar />\r\n          </Box>\r\n          \r\n          <Separator my={4} />\r\n          \r\n          {/* Logout button stays at the bottom of the sidebar */}\r\n          <LogoutButton />\r\n        </Flex>\r\n      </Box>\r\n\r\n      {/* Main Container - added ml to account for fixed sidebar */}\r\n      <Flex direction=\"column\" flex=\"1\" minW={0} ml={{ base: 0, md: \"280px\" }}>\r\n        <Box \r\n          position=\"sticky\" \r\n          top=\"0\" \r\n          zIndex=\"docked\" \r\n          bg=\"white/80\" \r\n          backdropFilter=\"blur(10px)\"\r\n          _dark={{ bg: \"gray.900/80\" }}\r\n        >\r\n          <Topbar />\r\n          <Separator />\r\n        </Box>\r\n\r\n        <Box\r\n          as=\"main\"\r\n          p={{ base: 4, md: 8 }}\r\n          flex=\"1\"\r\n          mx=\"auto\"\r\n          w=\"full\"\r\n          maxW=\"8xl\"\r\n        >\r\n          {children}\r\n        </Box>\r\n      </Flex>\r\n    </Flex>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA,+NAA8C,4BAA4B;;;;;;;;AAL1E;;;;;;AAWe,SAAS,gBAAgB,EAAE,QAAQ,EAAwB;IACxE,qBACE,qKAAC,iUAAI;QACH,MAAK;QACL,IAAG;QACH,OAAO;YAAE,IAAI;QAAW;;0BAGxB,qKAAC,gUAAG;gBACF,SAAS;oBAAE,MAAM;oBAAQ,IAAI;gBAAO;gBACpC,eAAc;gBACd,GAAE;gBACF,UAAS;gBACT,GAAE;gBACF,gBAAe;gBACf,IAAG;gBACH,OAAO;oBAAE,IAAI;oBAAY,gBAAgB;gBAAW;0BAEpD,cAAA,qKAAC,iUAAI;oBAAC,WAAU;oBAAS,GAAE;oBAAO,GAAG;;sCACnC,qKAAC,gUAAG;4BAAC,MAAK;sCACR,cAAA,qKAAC,oIAAO;;;;;;;;;;sCAGV,qKAAC,sUAAS;4BAAC,IAAI;;;;;;sCAGf,qKAAC,6IAAY;;;;;;;;;;;;;;;;0BAKjB,qKAAC,iUAAI;gBAAC,WAAU;gBAAS,MAAK;gBAAI,MAAM;gBAAG,IAAI;oBAAE,MAAM;oBAAG,IAAI;gBAAQ;;kCACpE,qKAAC,gUAAG;wBACF,UAAS;wBACT,KAAI;wBACJ,QAAO;wBACP,IAAG;wBACH,gBAAe;wBACf,OAAO;4BAAE,IAAI;wBAAc;;0CAE3B,qKAAC,mIAAM;;;;;0CACP,qKAAC,sUAAS;;;;;;;;;;;kCAGZ,qKAAC,gUAAG;wBACF,IAAG;wBACH,GAAG;4BAAE,MAAM;4BAAG,IAAI;wBAAE;wBACpB,MAAK;wBACL,IAAG;wBACH,GAAE;wBACF,MAAK;kCAEJ;;;;;;;;;;;;;;;;;;AAKX"}},
    {"offset": {"line": 658, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/Documents/dashboard-monorepo/frontend/lib/api/charts.ts"],"sourcesContent":["export interface ChartApiResponse {\r\n  metric: string;\r\n  range: string;\r\n  labels: string[];\r\n  data: number[];\r\n}\r\n\r\nexport async function fetchChartOverview(\r\n  metric: string,\r\n  range: string,\r\n  region: string\r\n): Promise<ChartApiResponse> {\r\n  const res = await fetch(\r\n    `/api/charts/overview?metric=${metric}&range=${range}&region=${region}`\r\n  );\r\n\r\n  if (!res.ok) {\r\n    throw new Error(\"Failed to fetch chart data\");\r\n  }\r\n\r\n  return res.json();\r\n}\r\n"],"names":[],"mappings":";;;;AAOO,eAAe,mBACpB,MAAc,EACd,KAAa,EACb,MAAc;IAEd,MAAM,MAAM,MAAM,MAChB,CAAC,4BAA4B,EAAE,OAAO,OAAO,EAAE,MAAM,QAAQ,EAAE,QAAQ;IAGzE,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO,IAAI,IAAI;AACjB"}},
    {"offset": {"line": 675, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/Documents/dashboard-monorepo/frontend/components/Charts/LineChart.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Tooltip,\r\n  Filler,\r\n} from \"chart.js\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { Box, Heading, useToken } from \"@chakra-ui/react\";\r\n\r\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Tooltip, Filler);\r\n\r\ninterface Props {\r\n  labels: string[];\r\n  data: number[];\r\n  title: string;\r\n}\r\n\r\nexport default function LineChart({ labels, data, title }: Props) {\r\n  const [brandColor] = useToken(\"colors\", [\"teal.500\"]);\r\n\r\n  const chartData = {\r\n    labels: labels, // Now using props!\r\n    datasets: [\r\n      {\r\n        fill: true,\r\n        label: title,\r\n        data: data, // Now using props!\r\n        borderColor: brandColor,\r\n        backgroundColor: (context: any) => {\r\n          const ctx = context.chart.ctx;\r\n          const gradient = ctx.createLinearGradient(0, 0, 0, 400);\r\n          gradient.addColorStop(0, \"rgba(49, 151, 149, 0.3)\");\r\n          gradient.addColorStop(1, \"rgba(49, 151, 149, 0)\");\r\n          return gradient;\r\n        },\r\n        tension: 0.4,\r\n        pointRadius: 2,\r\n        pointHoverRadius: 6,\r\n        borderWidth: 3,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const options = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n      legend: { display: false },\r\n    },\r\n    scales: {\r\n      x: { grid: { display: false } },\r\n      y: { \r\n        border: { dash: [4, 4] },\r\n        grid: { color: \"rgba(0,0,0,0.05)\" } \r\n      },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <Box bg=\"white\" _dark={{ bg: \"gray.900\" }} p={6} borderRadius=\"2xl\" boxShadow=\"sm\" h=\"400px\">\r\n      <Heading size=\"md\" mb={6} fontWeight=\"bold\">{title}</Heading>\r\n      <Box h=\"300px\">\r\n        <Line data={chartData} options={options} />\r\n      </Box>\r\n    </Box>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AASA;AACA;;;;;;;AAZA;;;;;AAcA,yOAAO,CAAC,QAAQ,CAAC,iPAAa,EAAE,+OAAW,EAAE,gPAAY,EAAE,+OAAW,EAAE,2OAAO,EAAE,0OAAM;AAQxE,SAAS,UAAU,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAS;IAC9D,MAAM,CAAC,WAAW,GAAG,IAAA,qUAAQ,EAAC,UAAU;QAAC;KAAW;IAEpD,MAAM,YAAY;QAChB,QAAQ;QACR,UAAU;YACR;gBACE,MAAM;gBACN,OAAO;gBACP,MAAM;gBACN,aAAa;gBACb,iBAAiB,CAAC;oBAChB,MAAM,MAAM,QAAQ,KAAK,CAAC,GAAG;oBAC7B,MAAM,WAAW,IAAI,oBAAoB,CAAC,GAAG,GAAG,GAAG;oBACnD,SAAS,YAAY,CAAC,GAAG;oBACzB,SAAS,YAAY,CAAC,GAAG;oBACzB,OAAO;gBACT;gBACA,SAAS;gBACT,aAAa;gBACb,kBAAkB;gBAClB,aAAa;YACf;SACD;IACH;IAEA,MAAM,UAAU;QACd,YAAY;QACZ,qBAAqB;QACrB,SAAS;YACP,QAAQ;gBAAE,SAAS;YAAM;QAC3B;QACA,QAAQ;YACN,GAAG;gBAAE,MAAM;oBAAE,SAAS;gBAAM;YAAE;YAC9B,GAAG;gBACD,QAAQ;oBAAE,MAAM;wBAAC;wBAAG;qBAAE;gBAAC;gBACvB,MAAM;oBAAE,OAAO;gBAAmB;YACpC;QACF;IACF;IAEA,qBACE,qKAAC,gUAAG;QAAC,IAAG;QAAQ,OAAO;YAAE,IAAI;QAAW;QAAG,GAAG;QAAG,cAAa;QAAM,WAAU;QAAK,GAAE;;0BACnF,qKAAC,oUAAO;gBAAC,MAAK;gBAAK,IAAI;gBAAG,YAAW;0BAAQ;;;;;;0BAC7C,qKAAC,gUAAG;gBAAC,GAAE;0BACL,cAAA,qKAAC,iUAAI;oBAAC,MAAM;oBAAW,SAAS;;;;;;;;;;;;;;;;;AAIxC"}},
    {"offset": {"line": 797, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/Documents/dashboard-monorepo/frontend/pages/index.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useSession } from \"next-auth/react\";\r\nimport { Box, Heading, Text, Spinner, Center } from \"@chakra-ui/react\";\r\nimport DashboardLayout from \"../components/layout/DashboardLayout\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { fetchChartOverview } from \"../lib/api/charts\";\r\nimport { useSelector } from \"react-redux\";\r\nimport type { RootState } from \"../store\";\r\nimport LineChart from \"../components/Charts/LineChart\";\r\nimport DashboardFilters from \"../components/Dashboard/\";\r\n\r\nexport default function IndexPage() {\r\n  const router = useRouter();\r\n  const { data: session, status } = useSession();\r\n\r\n  /**\r\n   * üîê Route protection\r\n   * If user is not authenticated ‚Üí redirect to login\r\n   */\r\n  useEffect(() => {\r\n    if (status === \"unauthenticated\") {\r\n      router.replace(\"/login\");\r\n    }\r\n  }, [status, router]);\r\n\r\n  /**\r\n   * üåç Global dashboard filters (Redux)\r\n   */\r\n  const { metric, region, dateRange } = useSelector(\r\n    (state: RootState) => state.filters\r\n  );\r\n\r\n  /**\r\n   * üìä Analytics data fetching (React Query)\r\n   */\r\n  const { data, isLoading, error } = useQuery({\r\n    queryKey: [\"dashboard-overview\", metric, region, dateRange],\r\n    queryFn: () => fetchChartOverview(metric, dateRange, region),\r\n    enabled: status === \"authenticated\", // ‚õî prevent calls before auth\r\n    staleTime: 1000 * 60, // 1 minute cache\r\n  });\r\n\r\n  /**\r\n   * ‚è≥ Session loading state\r\n   */\r\n  if (status === \"loading\") {\r\n    return (\r\n      <Center h=\"100vh\">\r\n        <Spinner size=\"xl\" color=\"teal.500\" />\r\n        <Text ml={4}>Verifying session...</Text>\r\n      </Center>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * ‚õî While redirecting, render nothing\r\n   */\r\n  if (status === \"unauthenticated\") return null;\r\n\r\n  /**\r\n   * ‚úÖ Authenticated dashboard\r\n   */\r\n  return (\r\n    <DashboardLayout>\r\n      <Box p={4}>\r\n        <Heading size=\"lg\" mb={1}>\r\n          Welcome, {session?.user?.name || session?.user?.email}\r\n        </Heading>\r\n\r\n        <Text color=\"gray.600\" _dark={{ color: \"gray.400\" }} mb={6}>\r\n          Analytics overview for your account\r\n        </Text>\r\n\r\n        {/* üîé Filters */}\r\n        <DashboardFilters />\r\n\r\n        {/* üìà Chart */}\r\n        {isLoading ? (\r\n          <Spinner color=\"teal.500\" />\r\n        ) : error ? (\r\n          <Text color=\"red.500\" fontWeight=\"bold\">\r\n            Failed to load analytics data.\r\n          </Text>\r\n        ) : (\r\n          <Box\r\n            bg=\"white\"\r\n            _dark={{ bg: \"gray.800\" }}\r\n            p={6}\r\n            borderRadius=\"2xl\"\r\n            boxShadow=\"sm\"\r\n          >\r\n            <LineChart\r\n              labels={data.labels}\r\n              data={data.data}\r\n              title={data.metric.toUpperCase()}\r\n            />\r\n          </Box>\r\n        )}\r\n      </Box>\r\n    </DashboardLayout>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;AAXA;;;;;;;;;;;;AAce,SAAS;IACtB,MAAM,SAAS,IAAA,uQAAS;IACxB,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,gTAAU;IAE5C;;;GAGC,GACD,IAAA,gHAAS,EAAC;QACR,IAAI,WAAW,mBAAmB;YAChC,OAAO,OAAO,CAAC;QACjB;IACF,GAAG;QAAC;QAAQ;KAAO;IAEnB;;GAEC,GACD,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,4SAAW,EAC/C,CAAC,QAAqB,MAAM,OAAO;IAGrC;;GAEC,GACD,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,IAAA,wUAAQ,EAAC;QAC1C,UAAU;YAAC;YAAsB;YAAQ;YAAQ;SAAU;QAC3D,SAAS,IAAM,IAAA,mIAAkB,EAAC,QAAQ,WAAW;QACrD,SAAS,WAAW;QACpB,WAAW,OAAO;IACpB;IAEA;;GAEC,GACD,IAAI,WAAW,WAAW;QACxB,qBACE,qKAAC,mUAAM;YAAC,GAAE;;8BACR,qKAAC,oUAAO;oBAAC,MAAK;oBAAK,OAAM;;;;;;8BACzB,qKAAC,iUAAI;oBAAC,IAAI;8BAAG;;;;;;;;;;;;IAGnB;IAEA;;GAEC,GACD,IAAI,WAAW,mBAAmB,OAAO;IAEzC;;GAEC,GACD,qBACE,qKAAC,4IAAe;kBACd,cAAA,qKAAC,gUAAG;YAAC,GAAG;;8BACN,qKAAC,oUAAO;oBAAC,MAAK;oBAAK,IAAI;;wBAAG;wBACd,SAAS,MAAM,QAAQ,SAAS,MAAM;;;;;;;8BAGlD,qKAAC,iUAAI;oBAAC,OAAM;oBAAW,OAAO;wBAAE,OAAO;oBAAW;oBAAG,IAAI;8BAAG;;;;;;8BAK5D,qKAAC;;;;;gBAGA,0BACC,qKAAC,oUAAO;oBAAC,OAAM;;;;;2BACb,sBACF,qKAAC,iUAAI;oBAAC,OAAM;oBAAU,YAAW;8BAAO;;;;;yCAIxC,qKAAC,gUAAG;oBACF,IAAG;oBACH,OAAO;wBAAE,IAAI;oBAAW;oBACxB,GAAG;oBACH,cAAa;oBACb,WAAU;8BAEV,cAAA,qKAAC,sIAAS;wBACR,QAAQ,KAAK,MAAM;wBACnB,MAAM,KAAK,IAAI;wBACf,OAAO,KAAK,MAAM,CAAC,WAAW;;;;;;;;;;;;;;;;;;;;;;AAO5C"}}]
}