{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/Documents/dashboard-monorepo/frontend/pages/signup.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { \r\n  Box, Button, Flex, Stack, Heading, Text, Input, \r\n  IconButton, HStack, Field, Link as ChakraLink \r\n} from \"@chakra-ui/react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { \r\n  LuEye, LuEyeOff, LuCircleCheck, LuCircleAlert, \r\n  LuShieldCheck, LuZap, LuGlobe \r\n} from \"react-icons/lu\";\r\nimport { useMutation } from \"@tanstack/react-query\";\r\nimport { toaster } from \"../components/ui/toaster\";\r\n\r\nconst MotionFlex = motion.create(Flex);\r\nconst MotionStack = motion.create(Stack);\r\n\r\nexport default function SignUpPage() {\r\n  const router = useRouter();\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  \r\n  // Form States\r\n  const [fullName, setFullName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [clientError, setClientError] = useState(\"\");\r\n\r\n  const signupMutation = useMutation({\r\n    mutationFn: async (data: any) => {\r\n      const res = await fetch(\"/api/auth/signup\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(data),\r\n      });\r\n      const result = await res.json();\r\n      if (!res.ok) throw new Error(result.message || \"Signup failed\");\r\n      return result;\r\n    },\r\n    onSuccess: () => {\r\n      toaster.create({ \r\n        title: \"Account Created!\", \r\n        description: \"Please check your email to verify your account.\", \r\n        type: \"success\" \r\n      });\r\n      // Redirect to a pending verification state or login\r\n      router.push(\"/login?status=pending\");\r\n    },\r\n    onError: (error: any) => {\r\n      setClientError(error.message);\r\n    }\r\n  });\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setClientError(\"\");\r\n\r\n    // --- Validation Logic ---\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(email)) {\r\n      setClientError(\"Please enter a valid email address.\");\r\n      return;\r\n    }\r\n    if (password.length < 8) {\r\n      setClientError(\"Password must be at least 8 characters long.\");\r\n      return;\r\n    }\r\n    if (password !== confirmPassword) {\r\n      setClientError(\"Passwords do not match.\");\r\n      return;\r\n    }\r\n\r\n    signupMutation.mutate({ name: fullName, email, password });\r\n  };\r\n\r\n  return (\r\n    <Flex minH=\"100vh\" direction={{ base: \"column\", lg: \"row\" }} bg=\"white\">\r\n      {/* Left Side: Brand/Marketing */}\r\n      <Flex \r\n        flex=\"1.2\" bg=\"teal.600\" align=\"center\" justify=\"center\" p={12} \r\n        color=\"white\" display={{ base: \"none\", lg: \"flex\" }} position=\"relative\"\r\n        overflow=\"hidden\"\r\n      >\r\n        {/* Subtle Decorative Background Element */}\r\n        <Box \r\n          position=\"absolute\" top=\"-10%\" right=\"-10%\" w=\"500px\" h=\"500px\" \r\n          bg=\"teal.500\" borderRadius=\"full\" filter=\"blur(80px)\" opacity=\"0.4\" \r\n        />\r\n\r\n        <Stack gap={10} maxW=\"460px\" zIndex={1}>\r\n          <MotionStack \r\n            initial={{ opacity: 0, y: 20 }} \r\n            animate={{ opacity: 1, y: 0 }} \r\n            transition={{ delay: 0.2 }}\r\n            gap={6}\r\n          >\r\n            <Heading size=\"4xl\" fontWeight=\"black\" lineHeight=\"1.1\">\r\n              Analyze your data <br /> \r\n              <Text as=\"span\" color=\"teal.200\">like a pro.</Text>\r\n            </Heading>\r\n            <Text fontSize=\"xl\" color=\"teal.50\" fontWeight=\"medium\">\r\n              Join 10,000+ professionals generating automated reports every day.\r\n            </Text>\r\n          </MotionStack>\r\n\r\n          <Stack gap={5}>\r\n            {[\r\n              { text: \"Automated Report Generation\", icon: LuZap },\r\n              { text: \"Role-Based Access Control\", icon: LuShieldCheck },\r\n              { text: \"Global Analytics Dashboard\", icon: LuGlobe }\r\n            ].map((item, i) => (\r\n              <HStack key={i} gap={4}>\r\n                <Box p={2} bg=\"teal.500\" borderRadius=\"lg\">\r\n                  <item.icon size={20} />\r\n                </Box>\r\n                <Text fontSize=\"lg\" fontWeight=\"semibold\">{item.text}</Text>\r\n              </HStack>\r\n            ))}\r\n          </Stack>\r\n        </Stack>\r\n      </Flex>\r\n\r\n      {/* Right Side: Form */}\r\n      <Flex flex=\"1\" align=\"center\" justify=\"center\" p={8} bg=\"white\" _dark={{ bg: \"gray.950\" }}>\r\n        <MotionFlex \r\n          initial={{ opacity: 0, x: 20 }} \r\n          animate={{ opacity: 1, x: 0 }} \r\n          direction=\"column\" w=\"full\" maxW=\"md\"\r\n        >\r\n          <Stack gap={8}>\r\n            <Stack>\r\n              <Heading size=\"2xl\" fontWeight=\"bold\" letterSpacing=\"tight\">Create Account</Heading>\r\n              <Text color=\"gray.500\">Sign up in less than 2 minutes.</Text>\r\n            </Stack>\r\n\r\n            {/* Error Message Display */}\r\n            <AnimatePresence>\r\n              {clientError && (\r\n                <motion.div initial={{ opacity: 0, height: 0 }} animate={{ opacity: 1, height: \"auto\" }} exit={{ opacity: 0, height: 0 }}>\r\n                  <HStack p={4} bg=\"red.50\" border=\"1px solid\" borderColor=\"red.200\" borderRadius=\"xl\" color=\"red.700\">\r\n                    <LuCircleAlert />\r\n                    <Text fontSize=\"sm\" fontWeight=\"medium\">{clientError}</Text>\r\n                  </HStack>\r\n                </motion.div>\r\n              )}\r\n            </AnimatePresence>\r\n\r\n            <form onSubmit={handleSubmit}>\r\n              <Stack gap={5}>\r\n                <Field.Root>\r\n                  <Field.Label fontWeight=\"bold\">FULL NAME</Field.Label>\r\n                  <Input \r\n                    ps=\"4\" size=\"lg\" borderRadius=\"xl\" placeholder=\"John Doe\" \r\n                    value={fullName} onChange={(e) => setFullName(e.target.value)} required \r\n                  />\r\n                </Field.Root>\r\n\r\n                <Field.Root>\r\n                  <Field.Label fontWeight=\"bold\">EMAIL ADDRESS</Field.Label>\r\n                  <Input \r\n                    type=\"email\" ps=\"4\" size=\"lg\" borderRadius=\"xl\" placeholder=\"name@company.com\" \r\n                    value={email} onChange={(e) => setEmail(e.target.value)} required \r\n                  />\r\n                </Field.Root>\r\n\r\n                <Field.Root>\r\n                  <Field.Label fontWeight=\"bold\">PASSWORD</Field.Label>\r\n                  <Flex position=\"relative\" align=\"center\">\r\n                    <Input \r\n                      type={showPassword ? \"text\" : \"password\"} ps=\"4\" size=\"lg\" borderRadius=\"xl\" \r\n                      placeholder=\"Min. 8 characters\" value={password} \r\n                      onChange={(e) => setPassword(e.target.value)} required \r\n                    />\r\n                    <IconButton\r\n                      aria-label=\"Toggle Password\"\r\n                      variant=\"ghost\"\r\n                      position=\"absolute\"\r\n                      right=\"2\"\r\n                      onClick={() => setShowPassword(!showPassword)}\r\n                    >\r\n                      {showPassword ? <LuEyeOff /> : <LuEye />}\r\n                    </IconButton>\r\n                  </Flex>\r\n                </Field.Root>\r\n\r\n                <Field.Root>\r\n                  <Field.Label fontWeight=\"bold\">CONFIRM PASSWORD</Field.Label>\r\n                  <Input \r\n                    type=\"password\" ps=\"4\" size=\"lg\" borderRadius=\"xl\" \r\n                    placeholder=\"Repeat password\" value={confirmPassword} \r\n                    onChange={(e) => setConfirmPassword(e.target.value)} required \r\n                  />\r\n                </Field.Root>\r\n\r\n                <Button \r\n                  type=\"submit\" colorPalette=\"teal\" size=\"xl\" borderRadius=\"xl\" \r\n                  loading={signupMutation.isPending} fontWeight=\"bold\" mt={2}\r\n                >\r\n                  Create My Account\r\n                </Button>\r\n              </Stack>\r\n            </form>\r\n\r\n            <Text fontSize=\"sm\" textAlign=\"center\">\r\n              Already have an account?{\" \"}\r\n              <ChakraLink color=\"teal.600\" fontWeight=\"bold\" onClick={() => router.push(\"/login\")}>\r\n                Sign in\r\n              </ChakraLink>\r\n            </Text>\r\n          </Stack>\r\n        </MotionFlex>\r\n      </Flex>\r\n    </Flex>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}