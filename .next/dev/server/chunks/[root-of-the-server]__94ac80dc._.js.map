{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/Documents/dashboard-monorepo/frontend/pages/api/auth/verify.ts"],"sourcesContent":["import type { NextApiRequest, NextApiResponse } from \"next\";\r\nimport { connectDB } from \"@/lib/db\";\r\nimport User from \"@/models/User\";\r\n\r\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\r\n  if (req.method !== \"GET\") return res.status(405).end();\r\n\r\n  await connectDB();\r\n  const { token } = req.query;\r\n\r\n  const user = await User.findOne({ verificationToken: token });\r\n\r\n  if (!user) {\r\n    return res.status(400).json({ message: \"Invalid or expired token\" });\r\n  }\r\n\r\n  user.isVerified = true;\r\n  user.verificationToken = undefined; // Remove token once used\r\n  await user.save();\r\n\r\n  return res.status(200).json({ message: \"Email verified successfully\" });\r\n}"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAIe,eAAe,QAAQ,GAAmB,EAAE,GAAoB;IAC7E,IAAI,IAAI,MAAM,KAAK,OAAO,OAAO,IAAI,MAAM,CAAC,KAAK,GAAG;IAEpD,MAAM;IACN,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,KAAK;IAE3B,MAAM,OAAO,MAAM,KAAK,OAAO,CAAC;QAAE,mBAAmB;IAAM;IAE3D,IAAI,CAAC,MAAM;QACT,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,SAAS;QAA2B;IACpE;IAEA,KAAK,UAAU,GAAG;IAClB,KAAK,iBAAiB,GAAG,WAAW,yBAAyB;IAC7D,MAAM,KAAK,IAAI;IAEf,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;QAAE,SAAS;IAA8B;AACvE"}}]
}