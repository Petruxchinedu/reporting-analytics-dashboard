{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bless/Documents/dashboard-monorepo/frontend/pages/api/charts/overview.ts"],"sourcesContent":["import type { NextApiRequest, NextApiResponse } from \"next\";\r\n\r\ntype Metric = \"users\" | \"revenue\" | \"sessions\";\r\ntype Range = \"weekly\" | \"monthly\" | \"yearly\";\r\ntype Region = \"global\" | \"africa\" | \"europe\";\r\n\r\ninterface ChartResponse {\r\n  metric: Metric;\r\n  range: Range;\r\n  labels: string[];\r\n  data: number[];\r\n}\r\n\r\nexport default function handler(\r\n  req: NextApiRequest,\r\n  res: NextApiResponse<ChartResponse | { error: string }>\r\n) {\r\n  if (req.method !== \"GET\") {\r\n    return res.status(405).json({ error: \"Method not allowed\" });\r\n  }\r\n\r\n  const { metric, range, region } = req.query;\r\n\r\n  if (!metric || !range || !region) {\r\n    return res.status(400).json({ error: \"Missing query parameters\" });\r\n  }\r\n\r\n  // Mock data generator (replace with DB later)\r\n  const labels =\r\n    range === \"monthly\"\r\n      ? [\"Jan\", \"Feb\", \"Mar\", \"Apr\"]\r\n      : range === \"weekly\"\r\n      ? [\"Week 1\", \"Week 2\", \"Week 3\"]\r\n      : [\"2022\", \"2023\", \"2024\"];\r\n\r\n  const data = labels.map(() => Math.floor(Math.random() * 3000) + 500);\r\n\r\n  const response: ChartResponse = {\r\n    metric: metric as Metric,\r\n    range: range as Range,\r\n    labels,\r\n    data,\r\n  };\r\n\r\n  return res.status(200).json(response);\r\n}\r\n"],"names":[],"mappings":";;;;AAae,SAAS,QACtB,GAAmB,EACnB,GAAuD;IAEvD,IAAI,IAAI,MAAM,KAAK,OAAO;QACxB,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO;QAAqB;IAC5D;IAEA,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,IAAI,KAAK;IAE3C,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,QAAQ;QAChC,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO;QAA2B;IAClE;IAEA,8CAA8C;IAC9C,MAAM,SACJ,UAAU,YACN;QAAC;QAAO;QAAO;QAAO;KAAM,GAC5B,UAAU,WACV;QAAC;QAAU;QAAU;KAAS,GAC9B;QAAC;QAAQ;QAAQ;KAAO;IAE9B,MAAM,OAAO,OAAO,GAAG,CAAC,IAAM,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,QAAQ;IAEjE,MAAM,WAA0B;QAC9B,QAAQ;QACR,OAAO;QACP;QACA;IACF;IAEA,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;AAC9B"}}]
}